"use strict";(self.webpackChunkrc_upload=self.webpackChunkrc_upload||[]).push([[904],{98984:function(E,a,e){e.r(a),e.d(a,{demos:function(){return P}});var p=e(21739),d=e(99988),P={}},17530:function(E,a,e){var p;e.r(a),e.d(a,{demos:function(){return F}});var d=e(7557),P=e.n(d),W=e(41498),K=e.n(W),m=e(21739),Z=e(79854),_=e(43347),F={"docs-demo-async-action-demo-asyncaction":{component:m.memo(m.lazy(function(){return e.e(433).then(e.bind(e,13947))})),asset:{type:"BLOCK",id:"docs-demo-async-action-demo-asyncaction",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(23288).Z},react:{type:"NPM",value:"18.3.1"},"rc-upload":{type:"NPM",value:"4.8.1"}},entry:"index.tsx"},context:{react:p||(p=e.t(m,2)),"rc-upload":_},renderOpts:{compile:function(){var S=K()(P()().mark(function T(){var C,f=arguments;return P()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.e(75).then(e.bind(e,54075));case 2:return c.abrupt("return",(C=c.sent).default.apply(C,f));case 3:case"end":return c.stop()}},T)}));function $(){return S.apply(this,arguments)}return $}()}}}},70825:function(E,a,e){e.r(a),e.d(a,{demos:function(){return _}});var p=e(7557),d=e.n(p),P=e(41498),W=e.n(P),K=e(21739),m=e(17429),Z=e(43347),_={"docs-demo-before-upload-demo-beforeupload":{component:K.memo(K.lazy(function(){return e.e(433).then(e.bind(e,79347))})),asset:{type:"BLOCK",id:"docs-demo-before-upload-demo-beforeupload",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(55811).Z},"rc-upload":{type:"NPM",value:"4.8.1"}},entry:"index.tsx"},context:{"rc-upload":Z},renderOpts:{compile:function(){var F=W()(d()().mark(function $(){var T,C=arguments;return d()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,e.e(75).then(e.bind(e,54075));case 2:return j.abrupt("return",(T=j.sent).default.apply(T,C));case 3:case"end":return j.stop()}},$)}));function S(){return F.apply(this,arguments)}return S}()}}}},650:function(E,a,e){var p;e.r(a),e.d(a,{demos:function(){return S}});var d=e(7557),P=e.n(d),W=e(41498),K=e.n(W),m=e(21739),Z=e(63494),_=e(64589),F=e(43347),S={"docs-demo-custom-request-demo-customrequest":{component:m.memo(m.lazy(function(){return e.e(433).then(e.bind(e,19679))})),asset:{type:"BLOCK",id:"docs-demo-custom-request-demo-customrequest",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(44278).Z},react:{type:"NPM",value:"18.3.1"},axios:{type:"NPM",value:"1.7.5"},"rc-upload":{type:"NPM",value:"4.8.1"}},entry:"index.tsx"},context:{react:p||(p=e.t(m,2)),axios:_,"rc-upload":F},renderOpts:{compile:function(){var $=K()(P()().mark(function C(){var f,j=arguments;return P()().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,e.e(75).then(e.bind(e,54075));case 2:return z.abrupt("return",(f=z.sent).default.apply(f,j));case 3:case"end":return z.stop()}},C)}));function T(){return $.apply(this,arguments)}return T}()}}}},27295:function(E,a,e){var p;e.r(a),e.d(a,{demos:function(){return F}});var d=e(7557),P=e.n(d),W=e(41498),K=e.n(W),m=e(21739),Z=e(58138),_=e(43347),F={"docs-demo-directory-upload-demo-directoryupload":{component:m.memo(m.lazy(function(){return e.e(433).then(e.bind(e,76295))})),asset:{type:"BLOCK",id:"docs-demo-directory-upload-demo-directoryupload",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(47761).Z},react:{type:"NPM",value:"18.3.1"},"rc-upload":{type:"NPM",value:"4.8.1"}},entry:"index.tsx"},context:{react:p||(p=e.t(m,2)),"rc-upload":_},renderOpts:{compile:function(){var S=K()(P()().mark(function T(){var C,f=arguments;return P()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.e(75).then(e.bind(e,54075));case 2:return c.abrupt("return",(C=c.sent).default.apply(C,f));case 3:case"end":return c.stop()}},T)}));function $(){return S.apply(this,arguments)}return $}()}}}},58275:function(E,a,e){var p;e.r(a),e.d(a,{demos:function(){return F}});var d=e(7557),P=e.n(d),W=e(41498),K=e.n(W),m=e(21739),Z=e(4353),_=e(43347),F={"docs-demo-drag-demo-drag":{component:m.memo(m.lazy(function(){return e.e(433).then(e.bind(e,18706))})),asset:{type:"BLOCK",id:"docs-demo-drag-demo-drag",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(27967).Z},react:{type:"NPM",value:"18.3.1"},"rc-upload":{type:"NPM",value:"4.8.1"}},entry:"index.tsx"},context:{react:p||(p=e.t(m,2)),"rc-upload":_},renderOpts:{compile:function(){var S=K()(P()().mark(function T(){var C,f=arguments;return P()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.e(75).then(e.bind(e,54075));case 2:return c.abrupt("return",(C=c.sent).default.apply(C,f));case 3:case"end":return c.stop()}},T)}));function $(){return S.apply(this,arguments)}return $}()}}}},63509:function(E,a,e){var p;e.r(a),e.d(a,{demos:function(){return F}});var d=e(7557),P=e.n(d),W=e(41498),K=e.n(W),m=e(21739),Z=e(97551),_=e(43347),F={"docs-demo-drag-directory-demo-dragdirectory":{component:m.memo(m.lazy(function(){return e.e(433).then(e.bind(e,16637))})),asset:{type:"BLOCK",id:"docs-demo-drag-directory-demo-dragdirectory",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(6637).Z},react:{type:"NPM",value:"18.3.1"},"rc-upload":{type:"NPM",value:"4.8.1"}},entry:"index.tsx"},context:{react:p||(p=e.t(m,2)),"rc-upload":_},renderOpts:{compile:function(){var S=K()(P()().mark(function T(){var C,f=arguments;return P()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.e(75).then(e.bind(e,54075));case 2:return c.abrupt("return",(C=c.sent).default.apply(C,f));case 3:case"end":return c.stop()}},T)}));function $(){return S.apply(this,arguments)}return $}()}}}},77695:function(E,a,e){var p;e.r(a),e.d(a,{demos:function(){return F}});var d=e(7557),P=e.n(d),W=e(41498),K=e.n(W),m=e(21739),Z=e(23327),_=e(43347),F={"docs-demo-simple-demo-simple":{component:m.memo(m.lazy(function(){return e.e(433).then(e.bind(e,48368))})),asset:{type:"BLOCK",id:"docs-demo-simple-demo-simple",refAtomIds:[],dependencies:{"index.tsx":{type:"FILE",value:e(795).Z},"rc-upload":{type:"NPM",value:"4.8.1"},react:{type:"NPM",value:"18.3.1"}},entry:"index.tsx"},context:{"rc-upload":_,react:p||(p=e.t(m,2))},renderOpts:{compile:function(){var S=K()(P()().mark(function T(){var C,f=arguments;return P()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,e.e(75).then(e.bind(e,54075));case 2:return c.abrupt("return",(C=c.sent).default.apply(C,f));case 3:case"end":return c.stop()}},T)}));function $(){return S.apply(this,arguments)}return $}()}}}},6817:function(E,a,e){e.r(a),e.d(a,{demos:function(){return P}});var p=e(21739),d=e(12926),P={}},43347:function(E,a,e){e.r(a),e.d(a,{default:function(){return xe}});var p=e(82242),d=e.n(p),P=e(82100),W=e.n(P),K=e(29186),m=e.n(K),Z=e(13720),_=e.n(Z),F=e(80619),S=e.n(F),$=e(47074),T=e.n($),C=e(85573),f=e.n(C),j=e(21739),c=e(39647),z=e.n(c),ee=e(31468),ae=e.n(ee),ne=e(7557),N=e.n(ne),re=e(41498),X=e.n(re),te=e(37205),J=e.n(te),oe=e(92310),de=e.n(oe),se=e(29334),le=e(41865),Q=function(i,u){if(i&&u){var y=Array.isArray(u)?u:u.split(","),n=i.name||"",r=i.type||"",o=r.replace(/\/.*$/,"");return y.some(function(h){var s=h.trim();if(/^\*(\/\*)?$/.test(h))return!0;if(s.charAt(0)==="."){var g=n.toLowerCase(),l=s.toLowerCase(),v=[l];return(l===".jpg"||l===".jpeg")&&(v=[".jpg",".jpeg"]),v.some(function(U){return g.endsWith(U)})}return/\/\*$/.test(s)?o===s.replace(/\/.*$/,""):r===s?!0:/^\w+$/.test(s)?((0,le.ZP)(!1,"Upload takes an invalidate 'accept' type '".concat(s,"'.Skip for check.")),!0):!1})}return!0};function ue(i,u){var y="cannot ".concat(i.method," ").concat(i.action," ").concat(u.status,"'"),n=new Error(y);return n.status=u.status,n.method=i.method,n.url=i.action,n}function w(i){var u=i.responseText||i.response;if(!u)return u;try{return JSON.parse(u)}catch(y){return u}}function ce(i){var u=new XMLHttpRequest;i.onProgress&&u.upload&&(u.upload.onprogress=function(o){o.total>0&&(o.percent=o.loaded/o.total*100),i.onProgress(o)});var y=new FormData;i.data&&Object.keys(i.data).forEach(function(r){var o=i.data[r];if(Array.isArray(o)){o.forEach(function(h){y.append("".concat(r,"[]"),h)});return}y.append(r,o)}),i.file instanceof Blob?y.append(i.filename,i.file,i.file.name):y.append(i.filename,i.file),u.onerror=function(o){i.onError(o)},u.onload=function(){return u.status<200||u.status>=300?i.onError(ue(i,u),w(u)):i.onSuccess(w(u),u)},u.open(i.method,i.action,!0),i.withCredentials&&"withCredentials"in u&&(u.withCredentials=!0);var n=i.headers||{};return n["X-Requested-With"]!==null&&u.setRequestHeader("X-Requested-With","XMLHttpRequest"),Object.keys(n).forEach(function(r){n[r]!==null&&u.setRequestHeader(r,n[r])}),u.send(y),{abort:function(){u.abort()}}}var ie=function(){var i=X()(N()().mark(function u(y,n){var r,o,h,s,g,l,v,U;return N()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:l=function(){return l=X()(N()().mark(function D(O){return N()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",new Promise(function(L){O.file(function(B){n(B)?(O.fullPath&&!B.webkitRelativePath&&(Object.defineProperties(B,{webkitRelativePath:{writable:!0}}),B.webkitRelativePath=O.fullPath.replace(/^\//,""),Object.defineProperties(B,{webkitRelativePath:{writable:!1}})),L(B)):L(null)})}));case 1:case"end":return b.stop()}},D)})),l.apply(this,arguments)},g=function(D){return l.apply(this,arguments)},s=function(){return s=X()(N()().mark(function D(O){var A,b,L,B,t;return N()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:A=O.createReader(),b=[];case 2:return R.next=5,new Promise(function(H){A.readEntries(H,function(){return H([])})});case 5:if(L=R.sent,B=L.length,B){R.next=9;break}return R.abrupt("break",12);case 9:for(t=0;t<B;t++)b.push(L[t]);R.next=2;break;case 12:return R.abrupt("return",b);case 13:case"end":return R.stop()}},D)})),s.apply(this,arguments)},h=function(D){return s.apply(this,arguments)},r=[],o=[],y.forEach(function(I){return o.push(I.webkitGetAsEntry())}),v=function(){var I=X()(N()().mark(function D(O,A){var b,L;return N()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(O){t.next=2;break}return t.abrupt("return");case 2:if(O.path=A||"",!O.isFile){t.next=10;break}return t.next=6,g(O);case 6:b=t.sent,b&&r.push(b),t.next=15;break;case 10:if(!O.isDirectory){t.next=15;break}return t.next=13,h(O);case 13:L=t.sent,o.push.apply(o,J()(L));case 15:case"end":return t.stop()}},D)}));return function(O,A){return I.apply(this,arguments)}}(),U=0;case 9:if(!(U<o.length)){M.next=15;break}return M.next=12,v(o[U]);case 12:U++,M.next=9;break;case 15:return M.abrupt("return",r);case 16:case"end":return M.stop()}},u)}));return function(y,n){return i.apply(this,arguments)}}(),pe=ie,ve=+new Date,fe=0;function V(){return"rc-upload-".concat(ve,"-").concat(++fe)}var k=e(27174),Ie=["component","prefixCls","className","classNames","disabled","id","name","style","styles","multiple","accept","capture","children","directory","openFileDialogOnClick","onMouseEnter","onMouseLeave","hasControlInside"],me=function(i){S()(y,i);var u=T()(y);function y(){var n;W()(this,y);for(var r=arguments.length,o=new Array(r),h=0;h<r;h++)o[h]=arguments[h];return n=u.call.apply(u,[this].concat(o)),f()(_()(n),"state",{uid:V()}),f()(_()(n),"reqs",{}),f()(_()(n),"fileInput",void 0),f()(_()(n),"_isMounted",void 0),f()(_()(n),"onChange",function(s){var g=n.props,l=g.accept,v=g.directory,U=s.target.files,x=J()(U).filter(function(M){return!v||Q(M,l)});n.uploadFiles(x),n.reset()}),f()(_()(n),"onClick",function(s){var g=n.fileInput;if(g){var l=s.target,v=n.props.onClick;if(l&&l.tagName==="BUTTON"){var U=g.parentNode;U.focus(),l.blur()}g.click(),v&&v(s)}}),f()(_()(n),"onKeyDown",function(s){s.key==="Enter"&&n.onClick(s)}),f()(_()(n),"onFileDrop",function(){var s=X()(N()().mark(function g(l){var v,U,x;return N()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:if(v=n.props.multiple,l.preventDefault(),l.type!=="dragover"){I.next=4;break}return I.abrupt("return");case 4:if(!n.props.directory){I.next=11;break}return I.next=7,pe(Array.prototype.slice.call(l.dataTransfer.items),function(D){return Q(D,n.props.accept)});case 7:U=I.sent,n.uploadFiles(U),I.next=14;break;case 11:x=J()(l.dataTransfer.files).filter(function(D){return Q(D,n.props.accept)}),v===!1&&(x=x.slice(0,1)),n.uploadFiles(x);case 14:case"end":return I.stop()}},g)}));return function(g){return s.apply(this,arguments)}}()),f()(_()(n),"uploadFiles",function(s){var g=J()(s),l=g.map(function(v){return v.uid=V(),n.processFile(v,g)});Promise.all(l).then(function(v){var U=n.props.onBatchStart;U==null||U(v.map(function(x){var M=x.origin,I=x.parsedFile;return{file:M,parsedFile:I}})),v.filter(function(x){return x.parsedFile!==null}).forEach(function(x){n.post(x)})})}),f()(_()(n),"processFile",function(){var s=X()(N()().mark(function g(l,v){var U,x,M,I,D,O,A,b,L;return N()().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(U=n.props.beforeUpload,x=l,!U){t.next=14;break}return t.prev=3,t.next=6,U(l,v);case 6:x=t.sent,t.next=12;break;case 9:t.prev=9,t.t0=t.catch(3),x=!1;case 12:if(x!==!1){t.next=14;break}return t.abrupt("return",{origin:l,parsedFile:null,action:null,data:null});case 14:if(M=n.props.action,typeof M!="function"){t.next=21;break}return t.next=18,M(l);case 18:I=t.sent,t.next=22;break;case 21:I=M;case 22:if(D=n.props.data,typeof D!="function"){t.next=29;break}return t.next=26,D(l);case 26:O=t.sent,t.next=30;break;case 29:O=D;case 30:return A=(ae()(x)==="object"||typeof x=="string")&&x?x:l,A instanceof File?b=A:b=new File([A],l.name,{type:l.type}),L=b,L.uid=l.uid,t.abrupt("return",{origin:l,data:O,parsedFile:L,action:I});case 35:case"end":return t.stop()}},g,null,[[3,9]])}));return function(g,l){return s.apply(this,arguments)}}()),f()(_()(n),"saveFileInput",function(s){n.fileInput=s}),n}return m()(y,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1,this.abort()}},{key:"post",value:function(r){var o=this,h=r.data,s=r.origin,g=r.action,l=r.parsedFile;if(this._isMounted){var v=this.props,U=v.onStart,x=v.customRequest,M=v.name,I=v.headers,D=v.withCredentials,O=v.method,A=s.uid,b=x||ce,L={action:g,filename:M,data:h,file:l,headers:I,withCredentials:D,method:O||"post",onProgress:function(t){var G=o.props.onProgress;G==null||G(t,l)},onSuccess:function(t,G){var R=o.props.onSuccess;R==null||R(t,l,G),delete o.reqs[A]},onError:function(t,G){var R=o.props.onError;R==null||R(t,G,l),delete o.reqs[A]}};U(s),this.reqs[A]=b(L)}}},{key:"reset",value:function(){this.setState({uid:V()})}},{key:"abort",value:function(r){var o=this.reqs;if(r){var h=r.uid?r.uid:r;o[h]&&o[h].abort&&o[h].abort(),delete o[h]}else Object.keys(o).forEach(function(s){o[s]&&o[s].abort&&o[s].abort(),delete o[s]})}},{key:"render",value:function(){var r=this.props,o=r.component,h=r.prefixCls,s=r.className,g=r.classNames,l=g===void 0?{}:g,v=r.disabled,U=r.id,x=r.name,M=r.style,I=r.styles,D=I===void 0?{}:I,O=r.multiple,A=r.accept,b=r.capture,L=r.children,B=r.directory,t=r.openFileDialogOnClick,G=r.onMouseEnter,R=r.onMouseLeave,H=r.hasControlInside,Ee=z()(r,Ie),Pe=de()(f()(f()(f()({},h,!0),"".concat(h,"-disabled"),v),s,s)),ye=B?{directory:"directory",webkitdirectory:"webkitdirectory"}:{},ge=v?{}:{onClick:t?this.onClick:function(){},onKeyDown:t?this.onKeyDown:function(){},onMouseEnter:G,onMouseLeave:R,onDrop:this.onFileDrop,onDragOver:this.onFileDrop,tabIndex:H?void 0:"0"};return(0,k.jsxs)(o,d()(d()({},ge),{},{className:Pe,role:H?void 0:"button",style:M,children:[(0,j.createElement)("input",d()(d()(d()({},(0,se.Z)(Ee,{aria:!0,data:!0})),{},{id:U,name:x,disabled:v,type:"file",ref:this.saveFileInput,onClick:function(Ue){return Ue.stopPropagation()},key:this.state.uid,style:d()({display:"none"},D.input),className:l.input,accept:A},ye),{},{multiple:O,onChange:this.onChange},b!=null?{capture:b}:{})),L]}))}}]),y}(j.Component),_e=me;function Y(){}var q=function(i){S()(y,i);var u=T()(y);function y(){var n;W()(this,y);for(var r=arguments.length,o=new Array(r),h=0;h<r;h++)o[h]=arguments[h];return n=u.call.apply(u,[this].concat(o)),f()(_()(n),"uploader",void 0),f()(_()(n),"saveUploader",function(s){n.uploader=s}),n}return m()(y,[{key:"abort",value:function(r){this.uploader.abort(r)}},{key:"render",value:function(){return(0,k.jsx)(_e,d()(d()({},this.props),{},{ref:this.saveUploader}))}}]),y}(j.Component);f()(q,"defaultProps",{component:"span",prefixCls:"rc-upload",data:{},headers:{},name:"file",multipart:!1,onStart:Y,onError:Y,onSuccess:Y,multiple:!1,beforeUpload:null,customRequest:null,withCredentials:!1,openFileDialogOnClick:!0,hasControlInside:!1});var he=q,xe=he},24099:function(E,a,e){e.r(a),e.d(a,{texts:function(){return d}});var p=e(99988);const d=[{value:"2020-12-16",paraId:0,tocIndex:1},{value:"chore: use dumi. ",paraId:1,tocIndex:1},{value:"#289",paraId:1,tocIndex:1},{value:"chore: update github actions. ",paraId:1,tocIndex:1},{value:"#292",paraId:1,tocIndex:1},{value:"chore: fix ts define.",paraId:1,tocIndex:1},{value:"2020-09-07",paraId:2,tocIndex:2},{value:"refatcor: change timeout to promise. ",paraId:3,tocIndex:2},{value:"#277",paraId:3,tocIndex:2},{value:"2020-08-31",paraId:4,tocIndex:3},{value:"chore: use father. ",paraId:5,tocIndex:3},{value:"#268",paraId:5,tocIndex:3},{value:"support ",paraId:6,tocIndex:4},{value:"onClick",paraId:6,tocIndex:4},{value:" ",paraId:6,tocIndex:4},{value:"onMouseEnter",paraId:6,tocIndex:4},{value:" ",paraId:6,tocIndex:4},{value:"onMouseLeave",paraId:6,tocIndex:4},{value:".",paraId:6,tocIndex:4},{value:"data",paraId:7,tocIndex:5},{value:" could return Promise.",paraId:7,tocIndex:5},{value:"Drop support of IE8/9.",paraId:8,tocIndex:6},{value:"Support ",paraId:9,tocIndex:7},{value:"method",paraId:9,tocIndex:7},{value:". #197",paraId:9,tocIndex:7},{value:"multiple",paraId:10,tocIndex:8},{value:" will works on drag upload.",paraId:10,tocIndex:8},{value:"Support ",paraId:11,tocIndex:9},{value:"transformFile",paraId:11,tocIndex:9},{value:" props to handle file before upload.",paraId:11,tocIndex:9},{value:"fix ",paraId:12,tocIndex:10},{value:"openFileDialogOnClick={false}",paraId:12,tocIndex:10},{value:" not to prevent on Enter event.",paraId:12,tocIndex:10},{value:"Add ",paraId:13,tocIndex:11},{value:"openFileDialogOnClick",paraId:13,tocIndex:11},{value:".",paraId:13,tocIndex:11},{value:"Support upload directory. ",paraId:14,tocIndex:12},{value:"#114",paraId:14,tocIndex:12},{value:"Support ",paraId:14,tocIndex:12},{value:"action={(file) => Promise}",paraId:14,tocIndex:12},{value:". ",paraId:14,tocIndex:12},{value:"#97",paraId:14,tocIndex:12},{value:"Fix a bluebird promise warning. ",paraId:14,tocIndex:12},{value:"#110",paraId:14,tocIndex:12},{value:"Add XHR for onSuccess callback by @xiangkaiy ",paraId:15,tocIndex:13},{value:"!85",paraId:15,tocIndex:13},{value:"fix issue #80 & #81 ",paraId:16,tocIndex:14},{value:"#82",paraId:16,tocIndex:14},{value:"Fix prop-types and create-react-class warning ",paraId:17,tocIndex:15},{value:"!67",paraId:17,tocIndex:15},{value:"disable upload progress listener in request if onPress is not set ",paraId:18,tocIndex:16},{value:"!65",paraId:18,tocIndex:16},{value:"beforeUpload add empty catch function when promise passed, fix ",paraId:19,tocIndex:17},{value:"#64",paraId:19,tocIndex:17},{value:"Fix crash if customRequest does not call onSuccess() / onError() ",paraId:20,tocIndex:18},{value:"!60",paraId:20,tocIndex:18},{value:"expose file list as argument to ",paraId:21,tocIndex:19},{value:"beforeUpload",paraId:21,tocIndex:19},{value:" ",paraId:21,tocIndex:19},{value:"!57",paraId:21,tocIndex:19},{value:"support custom request option ",paraId:22,tocIndex:20},{value:"!53",paraId:22,tocIndex:20},{value:"support Blob file upload ",paraId:23,tocIndex:21},{value:"!52",paraId:23,tocIndex:21},{value:"add ",paraId:24,tocIndex:22},{value:"className",paraId:24,tocIndex:22},{value:" prop",paraId:24,tocIndex:22},{value:"add abort api",paraId:25,tocIndex:23},{value:"props.onStart's argument is always a single File",paraId:25,tocIndex:23},{value:"add disabled prop",paraId:25,tocIndex:23},{value:"fix ajax multiple load",paraId:26,tocIndex:24},{value:"add component/style prop",paraId:27,tocIndex:25},{value:"add disabled state",paraId:28,tocIndex:26},{value:"https://github.com/react-component/upload/issues/37",paraId:28,tocIndex:26},{value:"add supportServerRender prop",paraId:29,tocIndex:27},{value:"Allow all 2xx status as success status, not only 200. fix #34",paraId:30,tocIndex:28},{value:"When ",paraId:30,tocIndex:28},{value:"headers['X-Requested-With'] = null",paraId:30,tocIndex:28},{value:" , request do not set X-Requested-With as XMLHttpRequest , fix #33",paraId:30,tocIndex:28},{value:"pass file to data if data's type is function",paraId:31,tocIndex:29},{value:"fix InvalidStateError in IE 10",paraId:32,tocIndex:30},{value:"fix #30",paraId:32,tocIndex:30},{value:"support custom XHR headers",paraId:33,tocIndex:31},{value:"add prop withCredentials config",paraId:34,tocIndex:32},{value:"react 0.14 support",paraId:35,tocIndex:33},{value:"remove superagent",paraId:35,tocIndex:33},{value:"feat: add beforeUpload support, ",paraId:36,tocIndex:34},{value:"#19",paraId:36,tocIndex:34},{value:"fix: Fixed bug calling wrong method name ",paraId:37,tocIndex:35},{value:"#13",paraId:37,tocIndex:35},{value:"feat: add getFormContainer prop to decide container where form to be inserted.",paraId:38,tocIndex:36},{value:"feat: Added aria role and keyboard navigation, pr",paraId:39,tocIndex:37},{value:"#9",paraId:39,tocIndex:37},{value:"fix: IframeUpload move form to body ",paraId:40,tocIndex:38},{value:"#8",paraId:40,tocIndex:38},{value:"onStart file argument change to a array when multiple files uploaded",paraId:41,tocIndex:39},{value:"onError arguments change to ",paraId:42,tocIndex:40},{value:"err, responce, file",paraId:42,tocIndex:40},{value:"support file drop",paraId:43,tocIndex:41},{value:"fix",paraId:44,tocIndex:42},{value:" pr",paraId:44,tocIndex:42},{value:"#2",paraId:44,tocIndex:42},{value:"feat",paraId:45,tocIndex:43},{value:" Finish basic funcion",paraId:45,tocIndex:43}]},48090:function(E,a,e){e.r(a),e.d(a,{texts:function(){return d}});var p=e(79854);const d=[]},17676:function(E,a,e){e.r(a),e.d(a,{texts:function(){return d}});var p=e(17429);const d=[]},21655:function(E,a,e){e.r(a),e.d(a,{texts:function(){return d}});var p=e(63494);const d=[]},63507:function(E,a,e){e.r(a),e.d(a,{texts:function(){return d}});var p=e(58138);const d=[]},6975:function(E,a,e){e.r(a),e.d(a,{texts:function(){return d}});var p=e(4353);const d=[]},69835:function(E,a,e){e.r(a),e.d(a,{texts:function(){return d}});var p=e(97551);const d=[]},34588:function(E,a,e){e.r(a),e.d(a,{texts:function(){return d}});var p=e(23327);const d=[]},13191:function(E,a,e){e.r(a),e.d(a,{texts:function(){return d}});var p=e(12926);const d=[{value:"React Upload",paraId:0,tocIndex:0},{value:`npm install
npm start
`,paraId:1,tocIndex:1},{value:"http://localhost:8000/",paraId:2,tocIndex:2},{value:"online example: ",paraId:3,tocIndex:2},{value:"https://upload.react-component.vercel.app/",paraId:3,tocIndex:2},{value:"support IE11+, Chrome, Firefox, Safari",paraId:4,tocIndex:3},{value:`var Upload = require('rc-upload');
var React = require('react');
React.render(<Upload />, container);
`,paraId:5,tocIndex:5},{value:"name",paraId:6,tocIndex:7},{value:"type",paraId:6,tocIndex:7},{value:"default",paraId:6,tocIndex:7},{value:"description",paraId:6,tocIndex:7},{value:"name",paraId:6,tocIndex:7},{value:"string",paraId:6,tocIndex:7},{value:"file",paraId:6,tocIndex:7},{value:"file param post to server",paraId:6,tocIndex:7},{value:"style",paraId:6,tocIndex:7},{value:"object",paraId:6,tocIndex:7},{value:"{}",paraId:6,tocIndex:7},{value:"root component inline style",paraId:6,tocIndex:7},{value:"className",paraId:6,tocIndex:7},{value:"string",paraId:6,tocIndex:7},{value:"-",paraId:6,tocIndex:7},{value:"root component className",paraId:6,tocIndex:7},{value:"disabled",paraId:6,tocIndex:7},{value:"boolean",paraId:6,tocIndex:7},{value:"false",paraId:6,tocIndex:7},{value:"whether disabled",paraId:6,tocIndex:7},{value:"component",paraId:6,tocIndex:7},{value:'"div"',paraId:6,tocIndex:7},{value:'"span"',paraId:6,tocIndex:7},{value:'"span"',paraId:6,tocIndex:7},{value:"action",paraId:6,tocIndex:7},{value:"string | function(file): string | Promise<string>",paraId:6,tocIndex:7},{value:"form action url",paraId:6,tocIndex:7},{value:"method",paraId:6,tocIndex:7},{value:"string",paraId:6,tocIndex:7},{value:"post",paraId:6,tocIndex:7},{value:"request method",paraId:6,tocIndex:7},{value:"directory",paraId:6,tocIndex:7},{value:"boolean",paraId:6,tocIndex:7},{value:"false",paraId:6,tocIndex:7},{value:"support upload whole directory",paraId:6,tocIndex:7},{value:"data",paraId:6,tocIndex:7},{value:"object/function(file)",paraId:6,tocIndex:7},{value:"other data object to post or a function which returns a data object(a promise object which resolve a data object)",paraId:6,tocIndex:7},{value:"headers",paraId:6,tocIndex:7},{value:"object",paraId:6,tocIndex:7},{value:"{}",paraId:6,tocIndex:7},{value:"http headers to post, available in modern browsers",paraId:6,tocIndex:7},{value:"accept",paraId:6,tocIndex:7},{value:"string",paraId:6,tocIndex:7},{value:"input accept attribute",paraId:6,tocIndex:7},{value:"capture",paraId:6,tocIndex:7},{value:"string",paraId:6,tocIndex:7},{value:"input capture attribute",paraId:6,tocIndex:7},{value:"multiple",paraId:6,tocIndex:7},{value:"boolean",paraId:6,tocIndex:7},{value:"false",paraId:6,tocIndex:7},{value:"only support ie10+",paraId:6,tocIndex:7},{value:"onStart",paraId:6,tocIndex:7},{value:"function",paraId:6,tocIndex:7},{value:"start upload file",paraId:6,tocIndex:7},{value:"onError",paraId:6,tocIndex:7},{value:"function",paraId:6,tocIndex:7},{value:"error callback",paraId:6,tocIndex:7},{value:"onSuccess",paraId:6,tocIndex:7},{value:"function",paraId:6,tocIndex:7},{value:"success callback",paraId:6,tocIndex:7},{value:"onProgress",paraId:6,tocIndex:7},{value:"function",paraId:6,tocIndex:7},{value:"progress callback, only for modern browsers",paraId:6,tocIndex:7},{value:"beforeUpload",paraId:6,tocIndex:7},{value:"function",paraId:6,tocIndex:7},{value:"null",paraId:6,tocIndex:7},{value:"before upload check, return false or a rejected Promise will stop upload, only for modern browsers",paraId:6,tocIndex:7},{value:"customRequest",paraId:6,tocIndex:7},{value:"function",paraId:6,tocIndex:7},{value:"null",paraId:6,tocIndex:7},{value:"provide an override for the default xhr behavior for additional customization",paraId:6,tocIndex:7},{value:"withCredentials",paraId:6,tocIndex:7},{value:"boolean",paraId:6,tocIndex:7},{value:"false",paraId:6,tocIndex:7},{value:"ajax upload with cookie send",paraId:6,tocIndex:7},{value:"openFileDialogOnClick",paraId:6,tocIndex:7},{value:"boolean",paraId:6,tocIndex:7},{value:"true",paraId:6,tocIndex:7},{value:"useful for drag only upload as it does not trigger on enter key or click event",paraId:6,tocIndex:7},{value:"err",paraId:7,tocIndex:8},{value:": request error message",paraId:7,tocIndex:8},{value:"response",paraId:7,tocIndex:8},{value:": request response, not support on iframeUpload",paraId:7,tocIndex:8},{value:"file",paraId:7,tocIndex:8},{value:": upload file",paraId:7,tocIndex:8},{value:"result",paraId:8,tocIndex:9},{value:": response body",paraId:8,tocIndex:9},{value:"file",paraId:8,tocIndex:9},{value:": upload file",paraId:8,tocIndex:9},{value:"xhr",paraId:8,tocIndex:9},{value:": xhr header, only for modern browsers which support AJAX upload. since",paraId:8,tocIndex:9},{value:`
2.4.0`,paraId:8,tocIndex:9},{value:"Allows for advanced customization by overriding default behavior in AjaxUploader. Provide your own XMLHttpRequest calls to interface with custom backend processes or interact with AWS S3 service through the aws-sdk-js package.",paraId:9,tocIndex:10},{value:"customRequest callback is passed an object with:",paraId:10,tocIndex:10},{value:"onProgress: (event: { percent: number }): void",paraId:11,tocIndex:10},{value:"onError: (event: Error, body?: Object): void",paraId:11,tocIndex:10},{value:"onSuccess: (body: Object): void",paraId:11,tocIndex:10},{value:"data: Object",paraId:11,tocIndex:10},{value:"filename: String",paraId:11,tocIndex:10},{value:"file: File",paraId:11,tocIndex:10},{value:"withCredentials: Boolean",paraId:11,tocIndex:10},{value:"action: String",paraId:11,tocIndex:10},{value:"headers: Object",paraId:11,tocIndex:10},{value:"abort(file?: File) => void: abort the uploading file",paraId:12,tocIndex:11},{value:"rc-upload is released under the MIT license.",paraId:13,tocIndex:12}]},23288:function(E,a){a.Z=`/* eslint no-console:0 */
import React from 'react';
import Upload from 'rc-upload';

const props = {
  action: () => {
    return new Promise<string>(resolve => {
      setTimeout(() => {
        resolve('/upload.do');
      }, 2000);
    });
  },
  multiple: true,
  onStart(file) {
    console.log('onStart', file, file.name);
  },
  onSuccess(ret) {
    console.log('onSuccess', ret);
  },
  onError(err) {
    console.log('onError', err);
  },
};

const Test = () => {
  return (
    <div
      style={{
        margin: 100,
      }}
    >
      <div>
        <Upload {...props}>
          <a>\u5F00\u59CB\u4E0A\u4F20</a>
        </Upload>
      </div>
    </div>
  );
};

export default Test;
`},55811:function(E,a){a.Z=`/* eslint no-console:0 */

import { Action } from '@/interface';
import Upload from 'rc-upload';

const props = {
  action: '/upload.do' as Action,
  multiple: true,
  onStart(file) {
    console.log('onStart', file, file.name);
  },
  onSuccess(ret) {
    console.log('onSuccess', ret);
  },
  onError(err) {
    console.log('onError', err);
  },
  beforeUpload(file, fileList) {
    console.log(file, fileList);
    return new Promise<string>(resolve => {
      console.log('start check');
      setTimeout(() => {
        console.log('check finshed');
        resolve(file);
      }, 3000);
    });
  },
};

const Test = () => {
  return (
    <div
      style={{
        margin: 100,
      }}
    >
      <div>
        <Upload {...props}>
          <a>\u5F00\u59CB\u4E0A\u4F20</a>
        </Upload>
      </div>
    </div>
  );
};

export default Test;
`},44278:function(E,a){a.Z=`/* eslint no-console:0 */
import React from 'react';
import axios from 'axios';
import Upload from 'rc-upload';
import { UploadRequestOption } from '@/interface';

const uploadProps = {
  action: '/upload.do',
  multiple: false,
  data: { a: 1, b: 2 },
  headers: {
    Authorization: '$prefix $token',
  },
  onStart(file) {
    console.log('onStart', file, file.name);
  },
  onSuccess(res, file) {
    console.log('onSuccess', res, file.name);
  },
  onError(err) {
    console.log('onError', err);
  },
  onProgress({ percent }, file) {
    console.log('onProgress', \`\${percent}%\`, file.name);
  },
  customRequest({
    action,
    data,
    file,
    filename,
    headers,
    onError,
    onProgress,
    onSuccess,
    withCredentials,
  }: UploadRequestOption) {
    // EXAMPLE: post form-data with 'axios'
    // eslint-disable-next-line no-undef
    const formData = new FormData();
    if (data) {
      Object.keys(data).forEach(key => {
        formData.append(key, data[key] as string);
      });
    }
    formData.append(filename, file);

    axios
      .post(action, formData, {
        withCredentials,
        headers,
        onUploadProgress: ({ total, loaded }) => {
          onProgress({ percent: Number(Math.round((loaded / total) * 100).toFixed(2)) }, file);
        },
      })
      .then(({ data: response }) => {
        onSuccess(response, file);
      })
      .catch(onError);

    return {
      abort() {
        console.log('upload progress is aborted.');
      },
    };
  },
};

const Test = () => {
  return (
    <div
      style={{
        margin: 100,
      }}
    >
      <div>
        <Upload {...uploadProps}>
          <button type="button">\u5F00\u59CB\u4E0A\u4F20</button>
        </Upload>
      </div>
    </div>
  );
};

export default Test;
`},47761:function(E,a){a.Z=`/* eslint no-console:0 */

import React from 'react';
import Upload from 'rc-upload';

const Test = () => {
  const uploaderProps = {
    action: '/upload.do',
    data: { a: 1, b: 2 },
    directory: true,
    beforeUpload(file) {
      console.log('beforeUpload', file.name);
    },
    onStart: file => {
      console.log('onStart', file.name);
    },
    onSuccess(file) {
      console.log('onSuccess', file);
    },
    onProgress(step, file) {
      console.log('onProgress', Math.round(step.percent), file.name);
    },
    onError(err) {
      console.log('onError', err);
    },
  };

  return (
    <div
      style={{
        margin: 100,
      }}
    >
      <div>
        <Upload {...uploaderProps}>
          <a>\u5F00\u59CB\u4E0A\u4F20</a>
        </Upload>
      </div>
    </div>
  );
};

export default Test;
`},27967:function(E,a){a.Z=`/* eslint no-console:0 */
import React from 'react';
import Upload from 'rc-upload';

const props = {
  action: '/upload.do',
  type: 'drag',
  accept: '.png',
  beforeUpload(file) {
    console.log('beforeUpload', file.name);
  },
  onStart: file => {
    console.log('onStart', file.name);
  },
  onSuccess(file) {
    console.log('onSuccess', file);
  },
  onProgress(step, file) {
    console.log('onProgress', Math.round(step.percent), file.name);
  },
  onError(err) {
    console.log('onError', err);
  },
  style: { display: 'inline-block', width: 200, height: 200, background: '#eee' },
  // openFileDialogOnClick: false
};

const Test = () => {
  return (
    <div
      style={{
        margin: 100,
      }}
    >
      <div>
        <Upload {...props}>
          <a>\u5F00\u59CB\u4E0A\u4F20</a>
        </Upload>
      </div>
    </div>
  );
};

export default Test;
`},6637:function(E,a){a.Z=`/* eslint no-console:0 */
import React from 'react';
import Upload from 'rc-upload';

const props = {
  action: '/upload.do',
  type: 'drag',
  directory: true,
  beforeUpload(file, fileList) {
    console.log('beforeUpload', file.name, fileList);
  },
  onStart: file => {
    console.log('onStart', file.name);
  },
  onSuccess(file) {
    console.log('onSuccess', file);
  },
  onProgress(step, file) {
    console.log('onProgress', Math.round(step.percent), file.name);
  },
  onError(err) {
    console.log('onError', err);
  },
  style: { display: 'inline-block', width: 200, height: 200, background: '#eee' },
  // openFileDialogOnClick: false
};

const Test = () => {
  return (
    <div
      style={{
        margin: 100,
      }}
    >
      <div>
        <Upload {...props}>
          <a>\u5F00\u59CB\u4E0A\u4F20</a>
        </Upload>
      </div>
    </div>
  );
};

export default Test;
`},795:function(E,a){a.Z=`/* eslint no-console:0 */

import Upload, { type UploadProps } from 'rc-upload';
import React from 'react';

const style = \`
        .rc-upload-disabled {
           opacity:0.5;
        \`;

const uploaderProps: UploadProps = {
  action: '/upload.do',
  data: { a: 1, b: 2 },
  multiple: true,
  beforeUpload(file) {
    console.log('beforeUpload', file.name);
  },
  onStart: file => {
    console.log('onStart', file.name);
  },
  onSuccess(file) {
    console.log('onSuccess', file);
  },
  onProgress(step, file) {
    console.log('onProgress', Math.round(step.percent), file.name);
  },
  onError(err) {
    console.log('onError', err);
  },
  capture: 'user',
};

const Test = () => {
  const [destroyed, setDestroyed] = React.useState(false);

  const destroy = () => {
    setDestroyed(true);
  };

  if (destroyed) {
    return null;
  }

  return (
    <div style={{ margin: 100 }}>
      <h2>\u56FA\u5B9A\u4F4D\u7F6E</h2>
      <style>{style}</style>
      <div>
        <Upload {...uploaderProps}>
          <a>\u5F00\u59CB\u4E0A\u4F20</a>
        </Upload>
      </div>
      <h2>\u6EDA\u52A8</h2>
      <div
        style={{
          height: 200,
          overflow: 'auto',
          border: '1px solid red',
        }}
      ></div>
      <div
        style={{
          height: 500,
        }}
      >
        <Upload {...uploaderProps} id="test" component="div" style={{ display: 'inline-block' }}>
          <a>\u5F00\u59CB\u4E0A\u4F202</a>
        </Upload>
      </div>
      <button type="button" onClick={destroy}>
        destroy
      </button>
    </div>
  );
};

export default Test;
`}}]);
